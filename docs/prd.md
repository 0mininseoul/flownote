# ğŸ“‹ **PRD (Product Requirements Document)**
## **Flownote - ìë™ ìŒì„± ë¬¸ì„œí™” ì„œë¹„ìŠ¤**

**ë²„ì „:** 1.0 (MVP)  
**ì‘ì„±ì¼:** 2025-11-03  
**ê°œë°œ ëª©í‘œ ê¸°ê°„:** 3ì¼  
**ë°°í¬:** Vercel  

---

## ğŸ¯ **1. ì œí’ˆ ê°œìš”**

### **1.1 ì œí’ˆ ë¹„ì „**
"ë…¹ìŒ ë²„íŠ¼ í•˜ë‚˜ë§Œ ëˆ„ë¥´ë©´, ìë™ìœ¼ë¡œ ì •ë¦¬ëœ ë¬¸ì„œë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆëŠ” ìë™ë¬¸ì„œí™” ì†”ë£¨ì…˜"

### **1.2 í•µì‹¬ ê°€ì¹˜**
- **ì›í´ë¦­ ìë™í™”:** ë…¹ìŒ â†’ STT â†’ AI ì •ë¦¬ â†’ Notion ì €ì¥ â†’ Slack ì•Œë¦¼ ì „ì²´ ìë™í™”
- **ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥:** ë³µì¡í•œ ì„¤ì • ì—†ì´ 3ë‹¨ê³„ ì˜¨ë³´ë”©ìœ¼ë¡œ ë°”ë¡œ ì‹œì‘
- **ë§ì¶¤í˜• ë¬¸ì„œ:** íšŒì˜ë¡/ì¸í„°ë·°/ê°•ì˜ ë“± ìƒí™©ë³„ ìµœì í™”ëœ ë¬¸ì„œ í¬ë§·

### **1.3 ì„±ê³µ ì§€í‘œ**
- **Primary KPI:** ì‚¬ìš©ì ìˆ˜
- **Secondary KPI:** ì¼ì¼ í™œì„± ì‚¬ìš©ì(DAU), ì²˜ë¦¬ëœ ì´ ë…¹ìŒ ì‹œê°„

---

## ğŸ‘¥ **2. íƒ€ê²Ÿ ì‚¬ìš©ì & í˜ë¥´ì†Œë‚˜**

### **2.1 íƒ€ê²Ÿ ì„¸ê·¸ë¨¼íŠ¸**
| ì„¸ê·¸ë¨¼íŠ¸ | íŠ¹ì§• | ì£¼ìš” ë‹ˆì¦ˆ |
|---------|------|----------|
| ì§ì¥ì¸ | ì£¼ 3-5íšŒ ë¯¸íŒ… | íšŒì˜ë¡ ìë™ ì‘ì„± |
| ëŒ€í•™ìƒ | ì£¼ 10-15ì‹œê°„ ê°•ì˜ | ê°•ì˜ ë‚´ìš© ìš”ì•½ |
| ì‚¬ì—…ì/í”„ë¦¬ëœì„œ | í´ë¼ì´ì–¸íŠ¸ ë¯¸íŒ… | ì¸í„°ë·° ê¸°ë¡ |

### **2.2 ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**
1. **íšŒì˜ ì‹œë‚˜ë¦¬ì˜¤:** íŒ€ ë¯¸íŒ… ì¤‘ ë…¹ìŒ â†’ íšŒì˜ë¡ ìë™ ìƒì„± â†’ Slack ê³µìœ 
2. **ê°•ì˜ ì‹œë‚˜ë¦¬ì˜¤:** ê°•ì˜ ë…¹ìŒ â†’ í•µì‹¬ ìš”ì•½ë³¸ ìƒì„± â†’ ë³µìŠµ ìë£Œë¡œ í™œìš©
3. **ì¸í„°ë·° ì‹œë‚˜ë¦¬ì˜¤:** ì¸í„°ë·° ì§„í–‰ â†’ Q&A í˜•ì‹ ì •ë¦¬ â†’ Notion ì•„ì¹´ì´ë¹™

---

## ğŸ—ï¸ **3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**

### **3.1 ê¸°ìˆ  ìŠ¤íƒ**
```
Frontend:
- Next.js 14 (App Router)
- React 18
- TypeScript
- Tailwind CSS + shadcn/ui (ë¦¬í€´ë“œ ê¸€ë˜ìŠ¤ íš¨ê³¼)
- PWA ì§€ì› (í™ˆ í™”ë©´ ì¶”ê°€)

Backend:
- Next.js API Routes (ì„œë²„ë¦¬ìŠ¤)
- Supabase (PostgreSQL + Auth + Storage)

External APIs:
- WhisperAPI.com (STT, 30ì‹œê°„ ë¬´ë£Œ)
- OpenAI GPT-4o-mini (ë¬¸ì„œ ì •ë¦¬)
- Notion API (í˜ì´ì§€ ìƒì„± + íŒŒì¼ ì—…ë¡œë“œ)
- Slack API (ë©”ì‹œì§€ ì „ì†¡)

Auth:
- Google OAuth (Supabase Auth)

Deployment:
- Vercel (ìë™ ë°°í¬ + Edge Functions)
```

### **3.2 ë°ì´í„° í”Œë¡œìš°**
```mermaid
ì›¹ ë…¹ìŒ â†’ Supabase Storage (ì›ë³¸ ì˜¤ë””ì˜¤)
    â†“
WhisperAPI.com (STT ë³€í™˜)
    â†“
Supabase DB (íŠ¸ëœìŠ¤í¬ë¦½íŠ¸ ì €ì¥)
    â†“
OpenAI GPT-4 (í¬ë§·ë³„ ì •ë¦¬)
    â†“
Notion API (í˜ì´ì§€ ìƒì„± + ì˜¤ë””ì˜¤ ì²¨ë¶€)
    â†“
Slack API (ì™„ë£Œ ì•Œë¦¼ + Notion ë§í¬)
```

---

## ğŸ¨ **4. UI/UX ì„¤ê³„**

### **4.1 ë””ìì¸ ì‹œìŠ¤í…œ**
- **í†¤ì•¤ë§¤ë„ˆ:** Notion ìŠ¤íƒ€ì¼ ë¯¸ë‹ˆë©€ë¦¬ì¦˜
- **ì»¬ëŸ¬:** í™”ì´íŠ¸ ë² ì´ìŠ¤ + ì„œë¸Œí‹€ ê·¸ë¼ë°ì´ì…˜
- **íš¨ê³¼:** ë¦¬í€´ë“œ ê¸€ë˜ìŠ¤ (Glassmorphism)
  - `backdrop-blur-xl`
  - ë°˜íˆ¬ëª… ë°°ê²½ (`bg-white/80`)
  - ë¯¸ë¬˜í•œ ê·¸ë¦¼ì + ë³´ë”
- **ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸:** 320pxë¶€í„° ë°˜ì‘í˜•

### **4.2 í™”ë©´ êµ¬ì¡° (6ê°œ í˜ì´ì§€)**

#### **4.2.1 ëœë”© í˜ì´ì§€ (`/`)**
- íˆì–´ë¡œ ì„¹ì…˜: "ë…¹ìŒ í•œ ë²ˆ í•˜ë©´ ì™„ì„±ë˜ëŠ” ìë™ ë¬¸ì„œ"
- 3ê°€ì§€ ì‚¬ìš© ì‚¬ë¡€ (íšŒì˜/ì¸í„°ë·°/ê°•ì˜)
- CTA: "Google ì•„ì´ë””ë¡œ ì‹œì‘í•˜ê¸°"

#### **4.2.2 ì˜¨ë³´ë”© (`/onboarding`)**
**Step 1: Google ë¡œê·¸ì¸**
- Google OAuth ë²„íŠ¼

**Step 2: í†µí•© ì—°ê²°**
- Notion ì—°ê²° (OAuth)
  - ê¸°ë³¸ í˜ì´ì§€ ìœ„ì¹˜ ì„ íƒ (Database Selector)
- Slack ì—°ê²° (OAuth)
  - ì•Œë¦¼ ë°›ì„ ì±„ë„ ì„ íƒ

**Step 3: ë¬¸ì„œ í¬ë§· ì„¤ì •**
- ê¸°ë³¸ í¬ë§· 3ê°€ì§€ ë¯¸ë¦¬ë³´ê¸°:
  1. **íšŒì˜ë¡ í˜•ì‹**
  2. **ì¸í„°ë·° ê¸°ë¡ í˜•ì‹**
  3. **ê°•ì˜ ìš”ì•½ë³¸ í˜•ì‹**
- "ì»¤ìŠ¤í…€ í¬ë§· ë§Œë“¤ê¸°" ë²„íŠ¼

**íŠœí† ë¦¬ì–¼ (ì´ë¯¸ì§€ 3ì¥)**
- ìŠ¬ë¼ì´ë“œ 1: "ë…¹ìŒ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”"
- ìŠ¬ë¼ì´ë“œ 2: "AIê°€ ìë™ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤"
- ìŠ¬ë¼ì´ë“œ 3: "Notionê³¼ Slackì—ì„œ í™•ì¸í•˜ì„¸ìš”"

#### **4.2.3 ëŒ€ì‹œë³´ë“œ (`/dashboard`)**

**í—¤ë”:**
- ë¡œê³ 
- ë‚¨ì€ ì‹œê°„: "245ë¶„ / 350ë¶„"
- ì„¤ì • ì•„ì´ì½˜ (í´ë¦­ ì‹œ `/history` í˜ì´ì§€ë¡œ ì´ë™)
- í”„ë¡œí•„ ë©”ë‰´

**ë©”ì¸ ì˜ì—­ (ë‹¨ì¼ ë ˆì´ì•„ì›ƒ - ì‹¬í”Œ):**

**ì¤‘ì•™: ë…¹ìŒ ì»¨íŠ¸ë¡¤ (ë¦¬í€´ë“œ ê¸€ë˜ìŠ¤ ì¹´ë“œ)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ™ï¸ ìƒˆ ë…¹ìŒ ì‹œì‘       â”‚
â”‚                         â”‚
â”‚   âºï¸  [REC ë²„íŠ¼]         â”‚
â”‚   00:00:00              â”‚
â”‚                         â”‚
â”‚   ğŸ“ í¬ë§· ì„ íƒ:          â”‚
â”‚   [íšŒì˜ë¡ â–¼]             â”‚
â”‚                         â”‚
â”‚   [â¹ï¸ ì¤‘ì§€] [â¸ï¸ ì¼ì‹œì •ì§€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **4.2.4 ë…¹ìŒ íˆìŠ¤í† ë¦¬ (`/history`)**

**í—¤ë”:**
- ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼
- "ë…¹ìŒ íˆìŠ¤í† ë¦¬" ì œëª©

**ë©”ì¸ ì˜ì—­:**

**ìµœê·¼ ë…¹ìŒ ë¦¬ìŠ¤íŠ¸**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‚ ìµœê·¼ ë…¹ìŒ            â”‚
â”‚                         â”‚
â”‚ ğŸŸ¢ íŒ€ ë¯¸íŒ… (2ë¶„ ì „)     â”‚
â”‚    12ë¶„ Â· ì²˜ë¦¬ ì™„ë£Œ     â”‚
â”‚    [Notion] [Slack]     â”‚
â”‚                         â”‚
â”‚ ğŸŸ¡ ì¸í„°ë·° ê¸°ë¡ (15ë¶„ ì „) â”‚
â”‚    25ë¶„ Â· ì²˜ë¦¬ ì¤‘...    â”‚
â”‚                         â”‚
â”‚ âšª ê°•ì˜ ìš”ì•½ (1ì‹œê°„ ì „)  â”‚
â”‚    45ë¶„ Â· ì²˜ë¦¬ ì™„ë£Œ     â”‚
â”‚    [Notion] [Slack]     â”‚
â”‚                         â”‚
â”‚ [ë” ë³´ê¸°]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ëŠ¥:**
- ë¬´í•œ ìŠ¤í¬ë¡¤ ë˜ëŠ” í˜ì´ì§€ë„¤ì´ì…˜
- ê° í•­ëª© í´ë¦­ ì‹œ ìƒì„¸ ë‚´ì—­ ë³´ê¸°
- ì²˜ë¦¬ ìƒíƒœë³„ í•„í„° (ì „ì²´/ì²˜ë¦¬ì¤‘/ì™„ë£Œ/ì‹¤íŒ¨)

#### **4.2.5 ì„¤ì • (`/settings`)**
- **ê³„ì • ì •ë³´**
  - ì´ë©”ì¼
  - ì‚¬ìš©ëŸ‰: 105ë¶„ / 350ë¶„
- **ì—°ê²°ëœ í†µí•©**
  - Notion (ì¬ì—°ê²°/ë³€ê²½)
  - Slack (ì¬ì—°ê²°/ë³€ê²½)
- **ë°ì´í„° ê´€ë¦¬**
  - 30ì¼ ì´ìƒ ë…¹ìŒ ìë™ ì‚­ì œ (ON/OFF)
  - "ëª¨ë“  ë°ì´í„° ì‚­ì œ" ë²„íŠ¼ (í™•ì¸ ëª¨ë‹¬)
- **ë¡œê·¸ì•„ì›ƒ**

#### **4.2.6 í¬ë§· ì„¤ì • (`/settings/formats`)**

**ê¸°ë³¸ í¬ë§· (ìˆ˜ì • ê°€ëŠ¥)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ íšŒì˜ë¡ í˜•ì‹             â”‚
â”‚ [í¸ì§‘]  [ë¯¸ë¦¬ë³´ê¸°]       â”‚
â”‚                         â”‚
â”‚ í”„ë¡¬í”„íŠ¸:               â”‚
â”‚ "ë‹¤ìŒ íšŒì˜ ë‚´ìš©ì„...    â”‚
â”‚  1. ì°¸ì„ì             â”‚
â”‚  2. ì£¼ìš” ì•ˆê±´..."       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**+ ì»¤ìŠ¤í…€ í¬ë§· ì¶”ê°€**
- í¬ë§· ì´ë¦„
- AI í”„ë¡¬í”„íŠ¸ (ë©€í‹°ë¼ì¸ í…ìŠ¤íŠ¸ë°•ìŠ¤)
- ì €ì¥ ë²„íŠ¼

---

## âš™ï¸ **5. í•µì‹¬ ê¸°ëŠ¥ ëª…ì„¸**

### **5.1 ë…¹ìŒ ê¸°ëŠ¥**

**ìš”êµ¬ì‚¬í•­:**
- ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ë…¹ìŒ
- ìµœëŒ€ ë…¹ìŒ ì‹œê°„: 120ë¶„
- ì§€ì› ë¸Œë¼ìš°ì €: Chrome, Safari, Edge
- í¬ë§·: WebM (ë¸Œë¼ìš°ì € ê¸°ë³¸) â†’ MP3 ë³€í™˜

**ê¸°ìˆ  êµ¬í˜„:**
```typescript
// Web Audio API ì‚¬ìš©
const mediaRecorder = new MediaRecorder(stream, {
  mimeType: 'audio/webm'
});

// ì‹¤ì‹œê°„ íƒ€ì´ë¨¸ í‘œì‹œ
// íŒŒì¼ í¬ê¸° ì œí•œ: 500MB
```

**UX í”Œë¡œìš°:**
1. "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ í´ë¦­
2. ë¸Œë¼ìš°ì € ë§ˆì´í¬ ê¶Œí•œ ìš”ì²­
3. ë…¹ìŒ ì¤‘ í‘œì‹œ: ë¹¨ê°„ ì  + íƒ€ì´ë¨¸
4. ì¼ì‹œì •ì§€/ì¬ê°œ ê°€ëŠ¥
5. "ì¤‘ì§€" í´ë¦­ â†’ ìë™ ì—…ë¡œë“œ + ì²˜ë¦¬ ì‹œì‘

### **5.2 STT ë³€í™˜**

**API:** WhisperAPI.com
- ëª¨ë¸: Whisper Large V3
- ì–¸ì–´: ìë™ ê°ì§€ (í•œêµ­ì–´/ì˜ì–´ ìš°ì„ )
- íƒ€ì„ìŠ¤íƒ¬í”„: í™œì„±í™”
- í™”ì ë¶„ë¦¬(Diarization): í™œì„±í™”

**ì—ëŸ¬ ì²˜ë¦¬:**
- ë¬´ë£Œ í•œë„ ì´ˆê³¼ ì‹œ: ì‚¬ìš©ìì—ê²Œ ëŒ€ê¸° ì•ˆë‚´
- API ì‹¤íŒ¨ ì‹œ: 3íšŒ ì¬ì‹œë„ â†’ ì‹¤íŒ¨ ì•Œë¦¼

### **5.3 AI ë¬¸ì„œ ì •ë¦¬**

**API:** OpenAI gpt-4o-mini
**ëª¨ë¸:** `gpt-4o-mini`

**ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ (3ê°€ì§€):**

**1) íšŒì˜ë¡ í˜•ì‹**
```
ë‹¤ìŒ íšŒì˜ ë…¹ì·¨ë¡ì„ íšŒì˜ë¡ í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•´ì£¼ì„¸ìš”:

[íŠ¸ëœìŠ¤í¬ë¦½íŠ¸]

## íšŒì˜ ì •ë³´
- ì¼ì‹œ: [ìë™ ì…ë ¥]
- ì°¸ì„ì: [ì¶”ì¶œ]

## ì£¼ìš” ì•ˆê±´
1. 
2. 

## ê²°ì • ì‚¬í•­
- 

## ì•¡ì…˜ ì•„ì´í…œ
- [ ] 
- [ ] 

## ë‹¤ìŒ íšŒì˜
- 
```

**2) ì¸í„°ë·° ê¸°ë¡ í˜•ì‹**
```
ë‹¤ìŒ ì¸í„°ë·° ë…¹ì·¨ë¡ì„ Q&A í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•´ì£¼ì„¸ìš”:

[íŠ¸ëœìŠ¤í¬ë¦½íŠ¸]

## ì¸í„°ë·° ê°œìš”
- ì¸í„°ë·°ì´: 
- ì£¼ì œ: 

## ì§ˆë¬¸ê³¼ ë‹µë³€

**Q1. [ì§ˆë¬¸]**
A. [ë‹µë³€ ìš”ì•½]

**Q2. [ì§ˆë¬¸]**
A. [ë‹µë³€ ìš”ì•½]

## í•µì‹¬ ì¸ì‚¬ì´íŠ¸
- 
```

**3) ê°•ì˜ ìš”ì•½ë³¸ í˜•ì‹**
```
ë‹¤ìŒ ê°•ì˜ ë…¹ì·¨ë¡ì„ ìš”ì•½ë³¸ í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•´ì£¼ì„¸ìš”:

[íŠ¸ëœìŠ¤í¬ë¦½íŠ¸]

## ê°•ì˜ ì •ë³´
- ì£¼ì œ: 
- í•µì‹¬ ê°œë…: 

## ì£¼ìš” ë‚´ìš©
### 1. [ì„¹ì…˜ëª…]
- 

### 2. [ì„¹ì…˜ëª…]
- 

## í•µì‹¬ ìš”ì  ì •ë¦¬
1. 
2. 
3. 

## ì¶”ê°€ í•™ìŠµ ì¶”ì²œ
- 
```

**ì»¤ìŠ¤í…€ í”„ë¡¬í”„íŠ¸:**
- ì‚¬ìš©ìê°€ ì„¤ì • í˜ì´ì§€ì—ì„œ ììœ ë¡­ê²Œ ì‘ì„±
- í…œí”Œë¦¿ ë³€ìˆ˜: `{{transcript}}`, `{{date}}`, `{{duration}}`

### **5.4 Notion í†µí•©**

**ìš”êµ¬ì‚¬í•­:**
- OAuth 2.0 ì¸ì¦
- ì‚¬ìš©ì ì„ íƒ Databaseì— í˜ì´ì§€ ìƒì„±
- í˜ì´ì§€ì— í¬í•¨ë  ë‚´ìš©:
  - ì œëª©: "Flownote - YYYY-MM-DD HH:MM"
  - ë³¸ë¬¸: AI ì •ë¦¬ ë¬¸ì„œ (Markdown)
  - ì²¨ë¶€ íŒŒì¼: ì›ë³¸ ì˜¤ë””ì˜¤ íŒŒì¼ (MP3)
  - ì†ì„±:
    - í¬ë§·: Select (íšŒì˜ë¡/ì¸í„°ë·°/ê°•ì˜)
    - ë…¹ìŒ ì‹œê°„: Number (ë¶„)
    - ìƒì„±ì¼: Date

**ê¸°ìˆ  êµ¬í˜„:**
```typescript
// Notion API í˜¸ì¶œ
await notion.pages.create({
  parent: { database_id: userSettings.notionDatabaseId },
  properties: {
    title: { title: [{ text: { content: title } }] },
    format: { select: { name: format } },
    duration: { number: durationMinutes },
  },
  children: [
    // Markdown ë¸”ë¡ë“¤
    { type: 'paragraph', paragraph: {...} },
    // ì˜¤ë””ì˜¤ íŒŒì¼
    { type: 'file', file: { external: { url: audioUrl } } }
  ]
});
```

### **5.5 Slack í†µí•©**

**ìš”êµ¬ì‚¬í•­:**
- OAuth 2.0 ì¸ì¦
- ì‚¬ìš©ì ì„ íƒ ì±„ë„ì— ë©”ì‹œì§€ ì „ì†¡
- ë©”ì‹œì§€ í¬ë§·:

```
âœ… ë…¹ìŒ ì²˜ë¦¬ ì™„ë£Œ!

ğŸ“ *íŒ€ ë¯¸íŒ…*
â±ï¸ 12ë¶„
ğŸ“… 2025-01-03 15:30

ğŸ”— [Notionì—ì„œ ë³´ê¸°](https://notion.so/page-id)
```

**ê¸°ìˆ  êµ¬í˜„:**
```typescript
await slack.chat.postMessage({
  channel: userSettings.slackChannelId,
  blocks: [
    {
      type: "section",
      text: { type: "mrkdwn", text: message }
    },
    {
      type: "actions",
      elements: [
        {
          type: "button",
          text: { type: "plain_text", text: "Notionì—ì„œ ë³´ê¸°" },
          url: notionPageUrl
        }
      ]
    }
  ]
});
```

### **5.6 ì‚¬ìš©ëŸ‰ ê´€ë¦¬**

**ì œí•œ:**
- ê³„ì •ë‹¹ ì›” 350ë¶„
- ë§¤ì›” 1ì¼ 00:00 UTC ë¦¬ì…‹

**DB ìŠ¤í‚¤ë§ˆ:**
```sql
users (
  id uuid primary key,
  email text,
  google_id text,
  monthly_minutes_used integer default 0,
  last_reset_at timestamp,
  created_at timestamp
)
```

**ì²´í¬ ë¡œì§:**
```typescript
// ë…¹ìŒ ì‹œì‘ ì „
if (user.monthly_minutes_used >= 350) {
  throw new Error("ì›” ì‚¬ìš©ëŸ‰ ì´ˆê³¼");
}

// ë…¹ìŒ í›„
await updateUserMinutes(userId, recordingDuration);
```

### **5.7 ë°ì´í„° ê´€ë¦¬**

**30ì¼ ìë™ ì‚­ì œ:**
- ë§¤ì¼ 00:00 UTC Cron Job (Vercel Cron)
- 30ì¼ ì´ìƒ ë…¹ìŒ íŒŒì¼ ì‚­ì œ
- íŠ¸ëœìŠ¤í¬ë¦½íŠ¸ëŠ” ìœ ì§€ (í…ìŠ¤íŠ¸ë§Œ)

**ìˆ˜ë™ ì‚­ì œ:**
- ì„¤ì • > "ëª¨ë“  ë°ì´í„° ì‚­ì œ"
- í™•ì¸ ëª¨ë‹¬: "ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë³µêµ¬ ë¶ˆê°€)"
- Supabase Storage + DB ëª¨ë‘ ì‚­ì œ

---

## ğŸ—„ï¸ **6. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**

### **6.1 Supabase Tables**

```sql
-- ì‚¬ìš©ì
CREATE TABLE users (
  id uuid PRIMARY KEY DEFAULT uuid_generate_v4(),
  email text UNIQUE NOT NULL,
  google_id text UNIQUE NOT NULL,
  notion_access_token text,
  notion_database_id text,
  slack_access_token text,
  slack_channel_id text,
  monthly_minutes_used integer DEFAULT 0,
  last_reset_at timestamp DEFAULT now(),
  created_at timestamp DEFAULT now()
);

-- ë…¹ìŒ ê¸°ë¡
CREATE TABLE recordings (
  id uuid PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id uuid REFERENCES users(id) ON DELETE CASCADE,
  title text NOT NULL,
  audio_file_path text NOT NULL, -- Supabase Storage path
  duration_seconds integer NOT NULL,
  format text NOT NULL, -- 'meeting', 'interview', 'lecture'
  status text DEFAULT 'processing', -- 'processing', 'completed', 'failed'
  transcript text,
  formatted_content text,
  notion_page_url text,
  created_at timestamp DEFAULT now()
);

-- ì»¤ìŠ¤í…€ í¬ë§·
CREATE TABLE custom_formats (
  id uuid PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id uuid REFERENCES users(id) ON DELETE CASCADE,
  name text NOT NULL,
  prompt text NOT NULL,
  created_at timestamp DEFAULT now()
);

-- Row Level Security í™œì„±í™”
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE recordings ENABLE ROW LEVEL SECURITY;
ALTER TABLE custom_formats ENABLE ROW LEVEL SECURITY;

-- RLS ì •ì±…
CREATE POLICY "Users can view own data" ON users
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY "Users can view own recordings" ON recordings
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own formats" ON custom_formats
  FOR ALL USING (auth.uid() = user_id);
```

### **6.2 Supabase Storage Buckets**

```
recordings/
  â””â”€â”€ {user_id}/
      â””â”€â”€ {recording_id}.mp3
```

---

## ğŸ”„ **7. API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„**

### **7.1 Next.js API Routes**

```typescript
// POST /api/recordings/start
// ë…¹ìŒ ì‹œì‘ (ë©”íƒ€ë°ì´í„° ìƒì„±)
{
  format: 'meeting' | 'interview' | 'lecture',
  customFormatId?: string
}
â†’ { recordingId: uuid }

// POST /api/recordings/{id}/upload
// ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ (multipart/form-data)
FormData: audioFile
â†’ { success: true }

// POST /api/recordings/{id}/process
// STT + AI ì •ë¦¬ + Notion + Slack (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)
â†’ { status: 'processing' }

// GET /api/recordings
// ì‚¬ìš©ìì˜ ë…¹ìŒ ëª©ë¡
â†’ { recordings: [...] }

// GET /api/recordings/{id}
// íŠ¹ì • ë…¹ìŒ ìƒì„¸
â†’ { recording: {...} }

// DELETE /api/recordings/{id}
// ë…¹ìŒ ì‚­ì œ
â†’ { success: true }

// GET /api/user/usage
// ì‚¬ìš©ëŸ‰ ì¡°íšŒ
â†’ { used: 105, limit: 350 }

// DELETE /api/user/data
// ëª¨ë“  ë°ì´í„° ì‚­ì œ
â†’ { success: true }

// GET /api/formats
// ì»¤ìŠ¤í…€ í¬ë§· ëª©ë¡
â†’ { formats: [...] }

// POST /api/formats
// ì»¤ìŠ¤í…€ í¬ë§· ìƒì„±
{ name: string, prompt: string }
â†’ { format: {...} }

// PUT /api/formats/{id}
// ì»¤ìŠ¤í…€ í¬ë§· ìˆ˜ì •
{ name: string, prompt: string }
â†’ { format: {...} }

// DELETE /api/formats/{id}
// ì»¤ìŠ¤í…€ í¬ë§· ì‚­ì œ
â†’ { success: true }
```

---

## ğŸ¯ **8. MVP ê°œë°œ ìš°ì„ ìˆœìœ„ (3ì¼ ê³„íš)**

### **Day 1: ì¸í”„ë¼ + ì¸ì¦**
- [ ] Next.js í”„ë¡œì íŠ¸ ì…‹ì—… (Tailwind + shadcn/ui)
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„± + DB ìŠ¤í‚¤ë§ˆ
- [ ] Google OAuth ë¡œê·¸ì¸ êµ¬í˜„
- [ ] ëœë”© í˜ì´ì§€ (ê°„ë‹¨í•œ ë²„ì „)
- [ ] ì˜¨ë³´ë”© Step 1 (ë¡œê·¸ì¸)

### **Day 2: í•µì‹¬ í”Œë¡œìš°**
- [ ] ì›¹ ë…¹ìŒ ê¸°ëŠ¥ êµ¬í˜„
- [ ] Supabase Storage ì—…ë¡œë“œ
- [ ] WhisperAPI.com ì—°ë™ (STT)
- [ ] OpenAI GPT-4o-mini ì—°ë™ (ë¬¸ì„œ ì •ë¦¬)
- [ ] ê¸°ë³¸ í¬ë§· 3ê°€ì§€ í”„ë¡¬í”„íŠ¸ ì‘ì„±
- [ ] ëŒ€ì‹œë³´ë“œ UI (ë…¹ìŒ ë²„íŠ¼)
- [ ] ë…¹ìŒ íˆìŠ¤í† ë¦¬ í˜ì´ì§€

### **Day 3: í†µí•© + ë°°í¬**
- [ ] Notion OAuth + í˜ì´ì§€ ìƒì„± (ì˜¤ë””ì˜¤ ì²¨ë¶€ í¬í•¨)
- [ ] Slack OAuth + ë©”ì‹œì§€ ì „ì†¡
- [ ] ì˜¨ë³´ë”© Step 2-3 ì™„ì„±
- [ ] í¬ë§· ì„¤ì • í˜ì´ì§€
- [ ] ì„¤ì • í˜ì´ì§€ (ë°ì´í„° ì‚­ì œ í¬í•¨)
- [ ] PWA ì„¤ì • (manifest.json, service worker)
- [ ] ë¦¬í€´ë“œ ê¸€ë˜ìŠ¤ ë””ìì¸ ì ìš©
- [ ] Vercel ë°°í¬
- [ ] ë² íƒ€ í…ŒìŠ¤í„° ì´ˆëŒ€

**ì—°ê¸° ê°€ëŠ¥ (Post-MVP):**
- íŠœí† ë¦¬ì–¼ ì´ë¯¸ì§€ ì œì‘
- ê³ ê¸‰ ì—ëŸ¬ í•¸ë“¤ë§
- ì„±ëŠ¥ ìµœì í™”
- ë¶„ì„ ëŒ€ì‹œë³´ë“œ

---

## ğŸš¨ **9. ë¦¬ìŠ¤í¬ & ëŒ€ì‘ ë°©ì•ˆ**

| ë¦¬ìŠ¤í¬ | ì˜í–¥ | ëŒ€ì‘ ë°©ì•ˆ |
|-------|------|----------|
| WhisperAPI ë¬´ë£Œ í•œë„ ì†Œì§„ | ë†’ìŒ | Groq Whisper ë°±ì—… API ì¤€ë¹„ |
| Notion API ì†ë„ ì œí•œ | ì¤‘ê°„ | íì‰ ì‹œìŠ¤í…œ (SQS ë˜ëŠ” Supabase Queue) |
| ëŒ€ìš©ëŸ‰ íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨ | ì¤‘ê°„ | Chunk ì—…ë¡œë“œ êµ¬í˜„ |
| OpenAI API ë¹„ìš© ê¸‰ì¦ | ë†’ìŒ | í† í° ì œí•œ (max_tokens: 2000) |
| ë¸Œë¼ìš°ì € ë§ˆì´í¬ ê¶Œí•œ ê±°ë¶€ | ë‚®ìŒ | ì¹œì ˆí•œ ì•ˆë‚´ ë©”ì‹œì§€ |

---

## ğŸ“Š **10. ì„±ê³µ ì§€í‘œ & ëª¨ë‹ˆí„°ë§**

### **10.1 ì¶”ì  ì§€í‘œ**
- ì‹ ê·œ ê°€ì…ì ìˆ˜
- ì¼ì¼ í™œì„± ì‚¬ìš©ì(DAU)
- ë…¹ìŒ ì™„ë£Œìœ¨ (ì‹œì‘/ì™„ë£Œ ë¹„ìœ¨)
- í‰ê·  ë…¹ìŒ ì‹œê°„
- Notion/Slack ì—°ê²°ë¥ 
- ì—ëŸ¬ìœ¨

### **10.2 ëª¨ë‹ˆí„°ë§ ë„êµ¬**
- Vercel Analytics (íŠ¸ë˜í”½)
- Supabase Dashboard (DB ì¿¼ë¦¬)
- Sentry (ì—ëŸ¬ íŠ¸ë˜í‚¹) - Post-MVP

---

## ğŸ¨ **11. ë””ìì¸ ê°€ì´ë“œ**

### **11.1 ë¦¬í€´ë“œ ê¸€ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ ì˜ˆì‹œ**

```tsx
// ë…¹ìŒ ì¹´ë“œ
<div className="
  relative
  bg-white/80 dark:bg-gray-900/80
  backdrop-blur-xl
  border border-white/20
  rounded-3xl
  p-8
  shadow-xl shadow-purple-500/10
  hover:shadow-2xl hover:shadow-purple-500/20
  transition-all duration-300
">
  {/* ë‚´ìš© */}
</div>
```

### **11.2 ì»¬ëŸ¬ íŒ”ë ˆíŠ¸**
```css
/* Primary */
--primary: #6366f1; /* Indigo */
--primary-light: #818cf8;
--primary-dark: #4f46e5;

/* Background */
--bg-base: #ffffff;
--bg-glass: rgba(255, 255, 255, 0.8);

/* Border */
--border-glass: rgba(255, 255, 255, 0.2);

/* Shadow */
--shadow-glass: 0 8px 32px rgba(99, 102, 241, 0.1);
```

---

## ğŸ“ **12. ì¶”ê°€ ìš”êµ¬ì‚¬í•­**

### **12.1 PWA ì„¤ì •**
```json
// public/manifest.json
{
  "name": "Flownote",
  "short_name": "Flownote",
  "description": "ìë™ ìŒì„± ë¬¸ì„œí™” ì„œë¹„ìŠ¤",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#6366f1",
  "icons": [
    {
      "src": "/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
```

**"í™ˆ í™”ë©´ì— ì¶”ê°€" ìœ ë„:**
- iOS: Safari ê³µìœ  ë²„íŠ¼ ì•ˆë‚´
- Android: ìë™ í”„ë¡¬í”„íŠ¸

---

## âœ… **13. MVP ì²´í¬ë¦¬ìŠ¤íŠ¸**

### **í•„ìˆ˜ ê¸°ëŠ¥ (Must Have)**
- [x] Google ë¡œê·¸ì¸
- [x] ì›¹ ë…¹ìŒ (ìµœëŒ€ 120ë¶„)
- [x] STT ë³€í™˜ (WhisperAPI.com)
- [x] AI ë¬¸ì„œ ì •ë¦¬ (GPT-4o-mini, 3ê°€ì§€ ê¸°ë³¸ í¬ë§·)
- [x] Notion í˜ì´ì§€ ìƒì„± (ì›ë³¸ ì˜¤ë””ì˜¤ ì²¨ë¶€ í¬í•¨)
- [x] Slack ì•Œë¦¼
- [x] ëŒ€ì‹œë³´ë“œ (ë…¹ìŒ + íˆìŠ¤í† ë¦¬)
- [x] í¬ë§· ì„¤ì • (ì»¤ìŠ¤í…€ ê°€ëŠ¥)
- [x] ì‚¬ìš©ëŸ‰ ì œí•œ (350ë¶„/ì›”)
- [x] ë°ì´í„° ì‚­ì œ ê¸°ëŠ¥
- [x] 30ì¼ ìë™ ì‚­ì œ
- [x] PWA ì§€ì›
- [x] ë¦¬í€´ë“œ ê¸€ë˜ìŠ¤ ë””ìì¸
- [x] ëª¨ë°”ì¼ ë°˜ì‘í˜•

### **ì—°ê¸° ê°€ëŠ¥ (Nice to Have)**
- [ ] íŠœí† ë¦¬ì–¼ ì´ë¯¸ì§€ 3ì¥
- [ ] ë‹¤êµ­ì–´ ì§€ì›
- [ ] ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© í‘œì‹œ
- [ ] ë…¹ìŒ í¸ì§‘ ê¸°ëŠ¥
- [ ] íŒ€ ê³µìœ  ê¸°ëŠ¥

---

## ğŸš€ **14. ì¶œì‹œ ê³„íš**

### **14.1 ë² íƒ€ ì¶œì‹œ (Day 3)**
- ì§€ì¸ 10ëª… ì´ˆëŒ€
- í”¼ë“œë°± ìˆ˜ì§‘ ì±„ë„ (Slack/Discord)
- ë²„ê·¸ íŠ¸ë˜í‚¹ (Notion Database)

### **14.2 í”¼ë“œë°± ìš°ì„ ìˆœìœ„**
1. í¬ë¦¬í‹°ì»¬ ë²„ê·¸ (ì¦‰ì‹œ ìˆ˜ì •)
2. UX ê°œì„  (1ì£¼ ì´ë‚´)
3. ê¸°ëŠ¥ ì¶”ê°€ ìš”ì²­ (ë°±ë¡œê·¸)

### **14.3 Post-MVP ë¡œë“œë§µ (1-2ì£¼)**
- íŠœí† ë¦¬ì–¼ ì™„ì„±
- ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
- ì„±ëŠ¥ ìµœì í™”
- ìœ ë£Œ í”Œëœ ì„¤ê³„

---

## ğŸ“ **15. ê°œë°œ ì¤‘ ì˜ì‚¬ê²°ì • í•„ìš” ì‚¬í•­**

ë‹¤ìŒ ìƒí™© ë°œìƒ ì‹œ ì¶”ê°€ ë…¼ì˜ í•„ìš”:

1. **WhisperAPI ë¬´ë£Œ í•œë„ ì¡°ê¸° ì†Œì§„** â†’ Groqë¡œ ì „í™˜?
2. **OpenAI ë¹„ìš© $10 ì´ˆê³¼** â†’ í† í° ì œí•œ ê°•í™”?
3. **Notion API Rate Limit ë„ë‹¬** â†’ íì‰ ì‹œìŠ¤í…œ ë„ì…?
4. **ì‚¬ìš©ì í”¼ë“œë°±: ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© í•„ìˆ˜** â†’ WebSocket ì¶”ê°€?